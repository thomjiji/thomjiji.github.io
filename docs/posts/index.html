<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | thomjiji</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - thomjiji">
<meta name="author" content="">
<link rel="canonical" href="https://thomjiji.github.io/posts/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.acba3b722521d35a09868516e10c1d96b907f69fd5f4c2df35a72b2af951b457.css" integrity="sha256-rLo7ciUh01oJhoUW4QwdlrkH9p/V9MLfNacrKvlRtFc=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://thomjiji.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://thomjiji.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://thomjiji.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://thomjiji.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://thomjiji.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://thomjiji.github.io/posts/index.xml">
<link rel="alternate" hreflang="en" href="https://thomjiji.github.io/posts/">
<link rel="alternate" hreflang="中文" href="https://thomjiji.github.io/%E4%B8%AD%E6%96%87/posts/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" href="https://thomjiji.github.io/powerpuff_girls_buttercup.jpg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=JetBrains+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&family=Space+Grotesk:wght@300;400;500;600;700&family=Roboto+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    
  </body>
</html>
<meta property="og:title" content="Posts" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://thomjiji.github.io/posts/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content=""/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://thomjiji.github.io/posts/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://thomjiji.github.io/" accesskey="h" title="thomjiji (Alt + H)">thomjiji</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://thomjiji.github.io/%E4%B8%AD%E6%96%87/" title="Chinese"
                            aria-label="Chinese">中文</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://thomjiji.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://thomjiji.github.io/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://thomjiji.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://thomjiji.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://thomjiji.github.io/">Home</a></div>
  <h1>
    Posts
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Use mouse wheel to scroll less in iTerm2
    </h2>
  </header>
  <div class="entry-content">
    <p>在 iTerm2 中使用 less command 有一个奇怪的点：你不能用鼠标来滚动页面。只能使用 Vim 的 keybinding Ctrl&#43;d 和 Ctrl&#43;u 来上下翻页。而且当你比如在查看一个 command 的 man page 时，因为 man page 默认是使用 less 来打开的，你查看完某个 man page 按 q 退出，然后使用鼠标滚轮往上面滚一下，滚到上面一屏，你会发现你的 Terminal 变得很乱，有很多刚刚你查看的那个 man page 的残留。
我的需求总结来说就是：
能够在 less 里使用鼠标滚轮来翻页，滚动。 退出 less 之后不要有残留。 其实，这里有一个概念叫作 alternate screen。你用 less 打开查看一个什么文件的时候进入的就是一个 alternative sceen，按 q 退出就是退出那个 alternate screen，回到这个 main screen（这个是我瞎取的）。
iTerm2 里也有这方面的设置，设置一下就行了。
首先这里有一个设置在 Session &gt; Terminal State &gt; Alternate Screen。这个设置我暂时没搞懂具体效果是什么，而真正起作用的也不是这个设置，只是它有点相关。
然后最重要的是这个设置，需要打开：Preferences &gt; Advanced &gt; Mouse &gt; Scroll wheel sends arrow keys when in alternate screen mode，把它改成 Yes。...</p>
  </div>
  <footer class="entry-footer"><span title='2023-12-17 00:00:00 +0000 UTC'>2023-12-17</span></footer>
  <a class="entry-link" aria-label="post link to Use mouse wheel to scroll less in iTerm2" href="https://thomjiji.github.io/blogs/2023/12/use-mouse-wheel-to-scroll-less-in-iterm2/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Use native file picker on KDE Plasma
    </h2>
  </header>
  <div class="entry-content">
    <p>For Firefox Starting with version 64, Firefox can optionally use XDG Desktop Portals to handle various desktop features, such as opening a file picker, or handling MIME types. — Arch Wiki | Firefox | XDG Desktop Portal integration
Type about:config in Firefox address bar. Search widget.use-xdg-desktop-portal.file-picker, set it to 1. 0 – Never 1 – Always 2 – Auto (typically depends on whether Firefox is run from within Flatpak or whether the GDK_DEBUG=portals environment is set) Done....</p>
  </div>
  <footer class="entry-footer"><span title='2023-12-09 00:00:00 +0000 UTC'>2023-12-09</span></footer>
  <a class="entry-link" aria-label="post link to Use native file picker on KDE Plasma" href="https://thomjiji.github.io/blogs/2023/12/use-native-file-picker-on-kde/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>Pin apps to KDE Panel, not KDE Task Manager
    </h2>
  </header>
  <div class="entry-content">
    <p>比如你想把 Konsole 和 Firefox 这些最最常用的 app pin 到底部的 bar/dock 上（实际上 KDE 叫它 Panel），最直观的，你下意识的右键 Task Manager 上已经打开的 app，这里有一个“Pin to Task Manager”的选项，勾选上它。但这好像不是你想要的，因为你发现即使 pin 上去了，只要你打开那个 app 的一个 instance，那个刚刚被你 pin 上去的 app 就又不见了。这似乎不是你期待中的“pin”。这时你想要打开那个 app 的第二个 instance，就没法去到老地方，你最初 pin 它的那个地方打开。得找到现在的正在运行的那个 instance 所在的 Task Manager 的地方，右键 &gt; “Open a New Window”。
其实，你刚刚 pin 上去的那个地方，是 Task Manager 的区域。Task Manager 外层还有一个区域，叫作 Panel。你应该，或者说你其实想把它 pin 到 Panel 上。这样不管你开几个 instance，那个 app 的图标还是在那，当你想开第 n&#43;1 的 instance 的时候，还是去那个 pin 的地方点一下就行了。
总的来说，KDE 底部栏的层级是这样的：
Panel: Application Launcher Pager Task Manager System tray Digital clock Peak at Desktop 你其实想把 Konsole 和 Firefox pin 到这里:...</p>
  </div>
  <footer class="entry-footer"><span title='2023-12-04 00:00:00 +0000 UTC'>2023-12-04</span></footer>
  <a class="entry-link" aria-label="post link to Pin apps to KDE Panel, not KDE Task Manager" href="https://thomjiji.github.io/blogs/2023/12/pin-apps-to-kde-panel/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>sshfs<sup><span class="entry-isdraft">&nbsp;&nbsp;[draft]</span></sup>
    </h2>
  </header>
  <div class="entry-content">
    <p>How to mount remote machine’s directory on current host? This question originally came up when I wanted to use Kate to edit a configuration file on macOS. I normally ssh into macOS, cd to that directory, and then type kate &lt;file&gt; to try opening the file for editing. But huh? There’s no kate command. Oh right, because I’m in the macOS environment, of course there’s no kate! But this is a problem - am I restricted to only using vi to edit remote files?...</p>
  </div>
  <footer class="entry-footer"><span title='2023-12-03 00:00:00 +0000 UTC'>2023-12-03</span>&nbsp;·&nbsp;thom</footer>
  <a class="entry-link" aria-label="post link to sshfs" href="https://thomjiji.github.io/blogs/2023/12/sshfs/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>gpg-agent doesn&#39;t work anyway!<sup><span class="entry-isdraft">&nbsp;&nbsp;[draft]</span></sup>
    </h2>
  </header>
  <div class="entry-content">
    <p>Solved by this command: gpg-connect-agent updatestartuptty /bye &gt;/dev/null</p>
  </div>
  <footer class="entry-footer"><span title='2023-12-02 00:00:00 +0000 UTC'>2023-12-02</span></footer>
  <a class="entry-link" aria-label="post link to gpg-agent doesn&#39;t work anyway!" href="https://thomjiji.github.io/blogs/2023/12/gpg-agent-does-not-work-anyway/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>btrfs and btrbk
    </h2>
  </header>
  <div class="entry-content">
    <p>/etc/btrbk/btrbk.conf config file:
volume / snapshot_dir btrbk_snapshots subvolume home incremental strict Key points:
volume /: “Base path within a btrfs filesystem containing the subvolumes to be backuped (usually the mount-point of a btrfs filesystem mounted with subvolid=5 option).” In this case, we use the existing root directory — which is already a btrfs filesystem (by default on Fedora). btrbk refer this / (next to volume) as “&lt;volume-directory&gt;”. snapshot_dir btrbk_snapshots: btrbk_snapshots is relative to the volume set above, which in this case the / (root directory)....</p>
  </div>
  <footer class="entry-footer"><span title='2023-12-01 00:00:00 +0000 UTC'>2023-12-01</span></footer>
  <a class="entry-link" aria-label="post link to btrfs and btrbk" href="https://thomjiji.github.io/blogs/2023/12/btrfs-and-btrbk/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>GPG key for SSH authentication
    </h2>
  </header>
  <div class="entry-content">
    <p>Using GPG key for ssh authentication reduces the effort involved in managing SSH keys, which is the main reason I want to learn this technique. GPG key for all (not just one GPG key possibly).</p>
  </div>
  <footer class="entry-footer"><span title='2023-11-28 00:00:00 +0000 UTC'>2023-11-28</span></footer>
  <a class="entry-link" aria-label="post link to GPG key for SSH authentication" href="https://thomjiji.github.io/blogs/2023/11/gpg-for-ssh-authentication/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>SSH notes
    </h2>
  </header>
  <div class="entry-content">
    <p>SSH 是一个我之前就想尝试使用的工具，当时只有对它的一个很简单的印象，就是可以通过它安全的访问另外一台电脑——的 Terminal。当然对它的具体...</p>
  </div>
  <footer class="entry-footer"><span title='2023-11-28 00:00:00 +0000 UTC'>2023-11-28</span></footer>
  <a class="entry-link" aria-label="post link to SSH notes" href="https://thomjiji.github.io/blogs/2023/11/ssh-notes/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>File size
    </h2>
  </header>
  <div class="entry-content">
    <p>Notes du * 输出的其实不是我们通常理解上的文件大小，而是所谓 block size（block count 可能更准确）。而且，它显示的是 disk usage，也就是这个文件占了多大的硬盘容量，或者说文件系统实际分配了多少空间给到这个文件。而不是，这个文件，它本身有多大。这个区别比较关键，后面会有更多的说明。
$ du * 5568	1-2-1_2frames_ap4h.mov 8040	1-2-1_2frames_ap4x.mov 3928	1-2-1_2frames_apch.mov 2152	1-2-1_2frames_apcn.mov 688	1-2-1_2frames_apco.mov 1592	1-2-1_2frames_apcs.mov 我们使用 exa 这个 ls 的替代，用 exa -lh -b -S 这个命令得到这样的输出：
$ exa -lh -b -S Permissions Size Blocks User Date Modified Name .rw-r--r--@ 2.7Mi 5568 thom 27 Oct 17:32 1-2-1_2frames_ap4h.mov .rw-r--r--@ 3.9Mi 8040 thom 27 Oct 17:32 1-2-1_2frames_ap4x.mov .rw-r--r--@ 1.9Mi 3928 thom 27 Oct 17:32 1-2-1_2frames_apch....</p>
  </div>
  <footer class="entry-footer"><span title='2023-11-01 00:00:00 +0000 UTC'>2023-11-01</span></footer>
  <a class="entry-link" aria-label="post link to File size" href="https://thomjiji.github.io/blogs/2023/11/file-size/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2>C&#43;&#43; Preprocessor
    </h2>
  </header>
  <div class="entry-content">
    <p>Excerpted from learncpp.com
preprocessor .cpp file =&gt; preprocessor: Make change to the text of the code file, but not actually to the original code file, rather temporarily in-memory or using temporary files. Uninteresting things: strip out comments, ensures each code file ends in a newline. One important role: process#include directives. =&gt; What comes out of the preprocessor is called translation unit. The translation unit is then compiled by the compiler. &#43;--------&#43; &#43;---------------------&#43; &#43;-------------------&#43; &#43;-----------------&#43; | ....</p>
  </div>
  <footer class="entry-footer"><span title='2023-09-21 00:00:00 +0000 UTC'>2023-09-21</span></footer>
  <a class="entry-link" aria-label="post link to C&#43;&#43; Preprocessor" href="https://thomjiji.github.io/blogs/2023/09/cpp-preprocessor/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="https://thomjiji.github.io/posts/page/2/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://thomjiji.github.io/">thomjiji</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
